# Q: 브라우저 렌더링 원리에 대해 설명해주세요.

브라우저가 사용자가 요청한 데이터를 받아 화면에 나타내는 과정입니다.
브라우저 엔진이 HTML과 CSS를 파싱하여 각각 DOM 트리와 CSSOM 트리를 만들고, 렌더링 엔진이 이를 결합해 렌더 트리를 생성합니다.
렌더 트리를 바탕으로 요소의 위치와 크기를 계산한 뒤, 시각적 요소를 그리는 페인트와 페인트 레이어를 합치는 컴포지팅 과정을 거쳐 최종적으로 사용자가 보는 화면에 데이터가 나타납니다.

JavaScript는 자바스크립트 엔진에 의해 실행되기 때문에 HTML 파서는 <script> 태그를 만나면 자바스크립트 엔진에 제어를 넘기고, 파싱을 일시 중단한 채 해당 스크립트가 로드되고 실행될 때까지 기다립니다.
스크립트 실행이 완료되면, 중단했던 위치부터 다시 HTML 파싱을 이어가며 DOM 트리를 생성합니다.

## 💬 예상되는 꼬리 질문?

### 1. JavaScript 실행으로 인한 렌더링 지연을 어떻게 해결할 수 있을까?
  body 태그 하단에 script를 위치시키거나 defer와 async 속성을 사용해 비동기 로딩을 적용할 수 있습니다.

   #### 1-1. async와 defer란?
   - async: 스크립트를 비동기적으로 로드하고 로드가 완료되는 즉시 실행되어 스크립트의 실행 순서가 보장되지 않습니다.
   - defer: 스크립트를 비동기적으로 로드하고 HTML 파싱이 완료된 후에 실행되어 스크립트가 작성된 순서대로 실행이 됩니다.<br/>
     async는 빠르게 실행되어야하고 실행 순서가 중요하지 않은 독립적인 스크립트에 적합하고 defer는 DOM과 상호작용을 해야하거나 실행 순서가 중요한 스크립트에 적합합니다.
   

### 2. 렌더링 최적화를 위한 주요 방법은?
   reflow와 repaint 발생을 최소화하는 것이 중요합니다.
   JavaScript의 경우, 상황에 맞는 defer와 async 속성을 사용하여 스크립트 로딩으로 인한 렌더링 차단을 줄일 수 있고
  이미지나 비동기 콘텐츠에는 lazy loading을 적용하여 사용자 시점에 따라 이미지를 지연 로딩하여 초기 페이지 렌더링 속도를 개선할 수 있습니다.

   #### 2-1. reflow와 repaint란?
   - reflow: DOM 요소의 크기나 위치가 변화했을 때, 브라우저가 전체 또는 일부의 레이아웃을 다시 계산하는 과정
   - repaint: 요소의 시각적 스타일이 변화했을 때, 브라우저가 해당 요소를 다시 화면에 그리는 과정
   #### 2-2. reflow와 repaint 과정을 최소화하는 방법은?
